# tprojというtmux開発環境プロジェクトの今後の方向性に

## 📅 メタ情報
- **日時**: 2026/1/18 17:00:53
- **プロジェクト**: tproj
- **AIモデル**: Gemini
- **チャットID**: 4a258148436a35a3
- **会話番号**: 3
- **チャットURL**: https://gemini.google.com/app/4a258148436a35a3

## ❓ 質問

tprojというtmux開発環境プロジェクトの今後の方向性について議論中。

**現状:**
- tmuxでClaude Code + Codex + yaziを統合したレイアウト
- install.shで依存関係チェック・バックアップ機能
- Ghosttyタブ連携（🔔通知）

**ChatGPTの提案（5つ）:**
1. tproj doctor + 自動修復 - 難易度中/効果高
2. .tproj.yml プロジェクトプロファイル - 難易度中/効果高
3. AIルータ（Claude/Codex自動振り分け） - 難易度高/効果高
4. AI作業の監査ログ＆ADR-lite - 難易度中/効果高
5. 配布パッケージ化（include方式＋uninstall） - 難易度中/効果中〜高

**質問:**
1. ChatGPTの5つの提案で、優先度が高いものはどれか？理由と合わせて
2. 見落とされている重要な観点や機能はあるか？
3. 「個人ツール」から「チーム/OSSとして展開」へ進化させる場合の落とし穴は？
4. 最小限のMVPとして、まず何を実装すべきか？

## 💬 回答

思考プロセスを表示tproj のような「ターミナル環境を垂直統合するプロジェクト」を個人用ツールから OSS/チーム開発ツールへとスケールさせるための戦略について、2026年現在の開発トレンド（Agentic Workflow、Local-first Tools）を踏まえて回答します。1. ChatGPTの提案：優先順位と理由提案された5つの機能のうち、**「プロジェクトの骨格」**を作るものから優先すべきです。順位提案機能優先理由1.tproj.yml プロファイル拡張性の土台。 これがないと「特定個人の固定レイアウト」から脱却できず、他人が自分のプロジェクトで使えません。2tproj doctor信頼性の担保。 チーム展開時、最初につまずくのは「依存ツールのバージョン違い」です。サポートコストを劇的に下げます。3配布パッケージ化導入障壁の除去。 git clone して PATH を通す手間を brew install 等の一撃に変えることは、OSS化の最低条件です。4AI作業監査/ADR-liteチーム利用の価値。 誰がどのAIを使ってどんな意思決定をしたかのログは、チーム開発での「透明性」を生みます。5AIルータ現時点では過剰。 Claude と Codex はユーザーが意図的に使い分けることが多く、自動化による誤作動のデメリットが勝る可能性があります。Google スプレッドシートにエクスポート2. 見落とされている重要な観点・機能ChatGPTの提案には、**「AI同士の連携」と「環境のポータビリティ」**という視点が欠けています。コンテキスト共有 (Shared Context):
Claude Code（設計・修正）と Codex（補完）が、今どのファイルに注目しているかを同期する仕組み。たとえば、yaziで選択中のファイルパスを、自動的に全AI Paneの環境変数やプロンプトに注入する機能です。シークレット管理 (Secret Management):
APIキーを .zshrc や .env に直書きさせず、macOSのキーチェーンや 1Password CLI 等と安全に連携するラッパー機能。チーム展開時に最も事故が起きやすいポイントです。セッションの完全復元 (Session Hydration):
tmux-resurrect 等と連携し、単にウィンドウを開くだけでなく、「前回どのAIと何を話していたか」までを各Paneで自動復元する機能です（前述の codex resume --last の自動実行など）。3. 「個人」から「チーム/OSS」へ進化させる際の落とし穴「俺の .tmux.conf」との衝突:
ユーザーは独自の tmux 設定を持っています。tproj がユーザーの既存設定（プレフィックスキーやステータスライン）を壊すと、即座にアンインストールされます。**「設定の注入」ではなく「独立したセッション」**として分離・共存させる設計が必須です。依存ツールのバージョン地獄:
yazi や Claude Code の仕様変更は速いです。doctor コマンドで単に「あるかないか」を調べるだけでなく、**「対応バージョン範囲内か」**まで厳密にチェックしないと、チーム内で「動く人」と「動かない人」が出て紛糾します。トークン消費の爆発:
チームで導入すると、AIツールの無意識な多用によりコストが急増します。コストリミッターや、利用状況の可視化がないと、マネジメント層からの承認が得られにくくなります。4. 最小限のMVP（最初の一歩）として何を実装すべきか？まずは 「再現性のある環境構築」 に絞るべきです。.tproj.yml の基本実装:
まずは「どの Pane にどのコマンド（claude, codex, yazi）を配置するか」を YAML で定義し、それを元に tmux セッションを立ち上げる最小の Go または Rust バイナリ（またはスクリプト）を作成します。tproj doctor (依存チェックのみ):
tmux, ghostty, claude, codex, yazi が PATH に通っているかを確認するだけのシンプルなもの。環境変数の自動注入:
.tproj.yml に記載したプロジェクト固有の環境変数を、全 Pane のシェルに自動的に export して起動する機能。次に行うべきこと：
まずは、現在の install.sh にある固定のレイアウト定義を、外出しの .tproj.yml から読み込む形式にリファクタリングしてみませんか？その際、YAMLのスキーマ案（Paneの分割率やデフォルトコマンドなど）を作成するお手伝いも可能です。
